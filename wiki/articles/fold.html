<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Fold</title>
  <meta property="og:title" content="Fold" />






<link rel="canonical" href="uqbar-project.github.io/wiki/articles/fold.html" />
<meta property="og:url" content="uqbar-project.github.io/wiki/articles/fold.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-02-09T11:53:29-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/wiki/favicon.ico" >
    <link type="text/plain" rel="author" href="/wiki/humans.txt"/>

    <link rel="stylesheet" href="/wiki/assets/app-ce8dd519ee762abf28c16f11faacee90.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a href="/wiki/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Help</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/wiki/articles/Frequently-Asked-Questions.html">Frequently Asked Questions</a></li>
                    <li><a class="link article_link" href="/wiki/wiki/articles/como-empezar.html">como-empezar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navigation</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/wiki/articles/paradigma-de-programacion.html">paradigma de programacion</a></li>
                    <li><a class="link article_link" href="/wiki/wiki/articles/design-temario.html">design temario</a></li>
                    <li><a class="link article_link" href="/wiki/wiki/articles/tecnicas-avanzadas-de-programacion.html">tecnicas avanzadas de programacion</a></li>
                    <li><a class="link article_link" href="/wiki/wiki/articles/programacion-de-interfaces-de-usuario.html">programacion de interfaces de usuario</a></li>
                    <li><a class="link article_link" href="/wiki/wiki/articles/algo3-temario.html">algo3 temario</a></li>
                    <li><a class="link article_link" href="/wiki/wiki/articles/programacion-con-herramientas-modernas.html">programacion con herramientas modernas</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows">
        <img src="/wiki/img/uqbar_logo.png">
    </div>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Link List" role="menu">
        <li class="button" role="menuitem"><a href="/wiki/">Home</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles">Lista de articulos</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        Fold
    </h1>
</div>

<div id="article_content">
    <p>Existe una familia de funciones en Haskell para modelar un algoritmo que permite procesar una estructura de datos para construir un valor, a esta idea le decimos foldear (derivado del inglés, “to fold”) o reducir.</p>

<p>¿Cómo sumo los elementos de una lista? ¿Cómo multiplico los elementos de una lista? ¿Cómo concateno una lista de palabras?</p>

<p><code class="highlighter-rouge">sum [] = 0 </code>
<code class="highlighter-rouge">sum (x:xs) = x + sum xs </code></p>

<p><code class="highlighter-rouge">prod [] = 1 </code>
<code class="highlighter-rouge">prod (x:xs) = x * prod xs </code></p>

<p><code class="highlighter-rouge">concatenar [] = [] </code>
<code class="highlighter-rouge">concatenar (x:xs) = x ++ concatenar xs</code></p>

<p>O bien si usamos los operadores de forma infija…</p>

<p><code class="highlighter-rouge">sum [] = 0 </code>
<code class="highlighter-rouge">sum (x:xs) = (+) x (sum xs) </code></p>

<p><code class="highlighter-rouge">prod [] = 1 </code>
<code class="highlighter-rouge">prod (x:xs) = (*) x (prod xs) </code></p>

<p><code class="highlighter-rouge">concatenar [] = [] </code>
<code class="highlighter-rouge">concatenar (x:xs) = (++) x (concatenar xs)</code></p>

<p>Si vemos las diferencias entre estas funciones notamos que sólo cambia la operación a realizar y el valor inicial, por ende si queremos hacer una función que nos generalice el algoritmo tenemos que recibirlos como parámetro.</p>

<p>En términos generales… ¿cómo la paso a una función de orden superior? Necesitamos • una función que opera con dos parámetros • un valor inicial • una lista</p>

<p><code class="highlighter-rouge">foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b </code></p>

<p>Caso base: si la lista es vacía, devuelvo el valor inicial.</p>

<p><code class="highlighter-rouge">foldr f valorInicial [] = valorInicial </code></p>

<p>Si la lista no es vacía, ¿qué voy a tener que hacer? A partir de alguna de las funciones podemos trasladar:</p>

<p><code class="highlighter-rouge">concatenar (x:xs) = (++) x (concatenar xs) </code>
<code class="highlighter-rouge">foldr f valorInicial (x:xs) = f x (foldr f valorInicial xs)</code></p>

<h2 id="sumando-con-foldr">Sumando con foldr</h2>

<p><code class="highlighter-rouge">sum = foldr (+) 0 </code></p>

<p>Para sumar una lista hay que aplicar la suma elemento por elemento arrancando de 0. Como es difícil de asimilar de golpe, vamos a hacer el seguimiento de un caso:</p>

<p><code class="highlighter-rouge">&gt; sum [2, 3, 5] </code>
<code class="highlighter-rouge">= foldr (+) [2, 3, 5] </code>
<code class="highlighter-rouge">= (+ 2) (foldr (+) 0 [3, 5]) </code>
<code class="highlighter-rouge">= (+ 2) ((+ 3) (foldr (+) 0 [5])) </code>
<code class="highlighter-rouge">= (+ 2) ((+ 3) ((+ 5) (foldr (+) 0 []))) </code>
<code class="highlighter-rouge">= (+ 2) ((+ 3) ((+ 5) 0)) &lt;- caso base </code>
<code class="highlighter-rouge">= (+ 2) ((+ 3 5)) </code>
<code class="highlighter-rouge">= (+ 2) 8 </code>
<code class="highlighter-rouge">= 10</code></p>

<p>Si revisan el Prelude, van a encontrar otra función similar:</p>

<p><code class="highlighter-rouge">foldl f z [] = z </code>
<code class="highlighter-rouge">foldl f z (x:xs) = foldl f (f z x) xs </code></p>

<h2 id="foldl-vs-foldr">foldl vs foldr</h2>

<p>¿Cuál es la diferencia? Revisemos los tipos:</p>

<p><code class="highlighter-rouge">foldl :: (a -&gt; b -&gt; a) -&gt; a -&gt; [b] -&gt; a </code>
<code class="highlighter-rouge">foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b </code></p>

<p>Foldr trabaja asociando a derecha la función f, mientras que foldl trabaja asociando a izquierda la función f. El seguimiento de la sumatoria definida en base a foldl puede ayudar a entender cómo realiza la operatoria:</p>

<p><code class="highlighter-rouge">sum = foldl (+) 0 </code>
<code class="highlighter-rouge">&gt; sum [2, 3, 5] </code>
<code class="highlighter-rouge">= foldl (+) 0 [2, 3, 5] </code>
<code class="highlighter-rouge">= foldl (+) ((+) 0 2) [3, 5] </code>
<code class="highlighter-rouge">= foldl (+) ((+) 2 3) [5] </code>
<code class="highlighter-rouge">= foldl (+) ((+) 5 5) []</code>
<code class="highlighter-rouge">= foldl (+) 10 [] </code>
<code class="highlighter-rouge">= 10 &lt;- caso base</code></p>

<p>Y aquí vemos que el valor inicial del caso base es en realidad el resultado final. Para comparar la forma de trabajar de las dos funciones pueden realizar consultas de este estilo en su intérprete de Haskell (show es una función que retorna la representación de el valor recibido como string):</p>

<p><code class="highlighter-rouge">&gt; foldr (\x y -&gt; concat ["(",x,"+",y,")"]) "0" (map show [1..13])</code>
<code class="highlighter-rouge">"(1+(2+(3+(4+(5+(6+(7+(8+(9+(10+(11+(12+(13+0)))))))))))))"</code>
<code class="highlighter-rouge">&gt; foldl (\x y -&gt; concat ["(",x,"+",y,")"]) "0" (map show [1..13])</code>
<code class="highlighter-rouge">"(((((((((((((0+1)+2)+3)+4)+5)+6)+7)+8)+9)+10)+11)+12)+13)"</code></p>

<p>Otras variantes de fold son foldl1 y foldr1 que trabajan de forma análoga a las anteriores sólo que toman como valor inicial al primer elemento de la lista. Eso es útil para los casos en los que la lista no debería estar vacía y/o no hay un valor adecuado para parametrizar. Veamos un ejemplo:</p>

<p><code class="highlighter-rouge">maximum' = foldr1 max</code></p>

</div>

<div id="article_metadata">
    <p>Latest update on February 02, 2017 by
        Ernesto Bossi</p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>2</td>
                                <td>95</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Ernesto Bossi</td>
                                <td>bossi.e...</td>
                                <td>1</td>
                            </tr>
                            
                            <tr>
                                <td>Npasserini</td>
                                <td>Npasser...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>bef5aba</td>
                        <td>Thu Feb 2 19:24:04 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>build up initial migration with old commits</td>
                    </tr>
                    
                    <tr>
                        <td>299a477</td>
                        <td>Thu Feb 2 19:14:20 2017 -0300</td>
                        <td>Ernesto Bossi</td>
                        <td>bossi.e...</td>
                        <td>/* ¿Por qué entonces dice unexpected `;', si yo no puse ningún ";"? */</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer/Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/wiki/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/wiki/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/wiki/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/wiki/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/wiki/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/wiki/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/wiki/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/wiki/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/wiki/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/wiki/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/wiki/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/wiki/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/wiki/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/wiki/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/wiki/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/wiki/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/wiki/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/wiki/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/wiki/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/wiki/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/wiki/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/wiki/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/wiki/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
